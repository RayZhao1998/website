<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <title>可移植性 - WebAssembly 中文网|Wasm 中文文档</title>
  <link rel="stylesheet" type="text/css" href="/css/custom.css">
  <meta name="keywords" content="WebAssembly中文网,wasm中文网,WebAssembly中文社区">
  <meta mame="description" content="WebAssembly 中文网是一个依附于WebAssembly官网内容的开源中文社区">
</head>


<body>
  <header class="page-section">
    <div class="container-narrow">
    <div class="site-logo">
      <h1>WebAssembly 中文网|Wasm 中文文档</h1>
    </div>
    <nav class="site-nav">
      <a class="site-nav-item btn" href="/">概述</a>
      <a class="site-nav-item btn" href="/demo/">Demo</a>
      <a class="site-nav-item btn" href="/getting-started/developers-guide/">快速开始</a>
      
      
      <a class="site-nav-item btn" href="/docs/js/">文档</a>
      <a class="site-nav-item btn" href="/community/feedback/">社区</a>
      <a class="site-nav-item btn" href="/roadmap/">路线图</a>
      <a class="site-nav-item btn" href="/docs/faq/">FAQ</a>
      <a class="site-nav-item btn" href="https://www.w3ctech.com/category/18">中文交流</a>
      <a class="site-nav-item btn" href="https://github.com/WebAssembly-cn/website/wiki/%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%E7%BF%BB%E8%AF%91%E5%BF%85%E8%AF%BB%E6%8C%87%E5%8D%97">参与翻译</a>
    </nav>
    </div>
  </header>
  <section class="banner-update">
    <div class="container-narrow">
      <div class="banner-update-icon"></div>
      <span class="banner-update-date"></span>
      <span>多个浏览器已经达成对初始 WebAssembly 版本的一致意见 <a href="/roadmap/">查看更多</a></span>
    </div>
  </section>
  

<section>
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-lg-9 col-pop">
        <h1 id="可移植性">可移植性</h1>

<p>WebAssembly的<a href="../binary-encoding/">二进制格式</a>是被设计成可在不同操作系统与指令集上高效执行的，无论在<a href="../web/">Web</a>或<a href="../non-web/">非Web</a>环境中。</p>

<h2 id="对高效执行的设想">对高效执行的设想</h2>

<p>尽管执行环境是<a href="../nondeterminism/">有条件的，本地的，不确定的</a>，也不要向WebAssembly提供下述特性。有些情况下为了WebAssembly模块执行，也许不得不模拟一些宿主硬件或操作系统不提供的特性，让它们似乎被支持。这种情况将会导致糟糕的性能。</p>

<p>随着WebAssembly的标准化推进，我们期望将这些需求也能被固定下来。WebAssembly在设计之初就应该适配未来的平台。</p>

<p>WebAssembly可移植性假定执行环境提供下列特性：</p>

<ul>
  <li>8位字节。</li>
  <li>内存可按字节维度寻址。</li>
  <li>支持未对齐的内存访问或因软件仿真导致的已知缺陷。</li>
  <li>32位有符号整数有两个补码，64位可选。</li>
  <li>IEEE 754-2008 32位和64位浮点数，除了<a href="../semantics/#floating-point-operators">一些例外</a>。</li>
  <li>小端字节序。</li>
  <li>可使用32位指针或索引有效处理内存区域。</li>
  <li>WebAssembly64 使用<a href="../future-features/#linear-memory-bigger-than-4-gib">64位指针或索引</a>额外支持大于4GB的线性内存。</li>
  <li>执行在同一机器上的WebAssembly模块与其他模块或进程强制安全隔离</li>
  <li>提供一个进程担保所有线程的执行的执行环境（即便它们以非并行方式执行）</li>
  <li>访问8、16、32位自然对齐内存时，可用无锁原子运算符。至少也要包含一个原子级的比较和交换运算符（或同等的加载连接/条件存储）。</li>
  <li>WebAssembly64 访问64位自然对齐内存时，额外需要无锁原子运算符。</li>
</ul>

<h2 id="api">API</h2>

<p>WebAssembly没有指定任何API或系统调用，只有一个<a href="../modules/">导入机制</a>，需宿主环境定义一组可导入对象。<a href="../web/">Web</a>环境中，方法通过由<a href="https://zh.wikipedia.org/wiki/%E5%BC%80%E6%94%BEWeb">开放Web平台</a>制定的Web APIs访问。<a href="../non-web/">非Web</a>环境中可以执行一些基础的Web APIs，基础的非Web APIs（例如POSIX），或者自己发明一个。</p>

<h2 id="源码级别">源码级别</h2>

<p>C/C++级别的可移植性可用过面向一个基础API（例如POSIX）编码达成，也可以依赖编译时（通过<code class="highlighter-rouge">#ifdef</code>）或运行时（通过 <a href="../feature-test/">功能发现</a>）和动态<a href="../modules/">加载</a>/<a href="../dynamic-linking/">链接</a>）编译器和/或库向宿主环境的可用导入们提供的基础接口达成。</p>

      </div>
      <div class="col-xs-12 col-lg-3">
        <h6 class="side-title">文档</h6>
        <nav class="side-nav">
        
        
        <a class="side-nav-item" href="/docs/js/">JavaScript API</a>
        
        <a class="side-nav-item" href="/docs/binary-encoding/">Binary Encoding</a>
        
        <a class="side-nav-item" href="/docs/text-format/">Text Format</a>
        
        <a class="side-nav-item" href="/docs/modules/">Modules</a>
        
        <a class="side-nav-item" href="/docs/faq/">FAQ</a>
        
        <a class="side-nav-item" href="/docs/rationale/">Design Rationale</a>
        
        <a class="side-nav-item" href="/docs/future-features/">Features to add after the MVP</a>
        
        <a class="side-nav-item" href="/docs/security/">Security</a>
        
        <a class="side-nav-item" href="/docs/nondeterminism/">Nondeterminism in WebAssembly</a>
        
        <a class="side-nav-item" href="/docs/c-and-c++/">Guide for C/C++ developers</a>
        
        <a class="side-nav-item" href="/docs/web/">Web Embedding</a>
        
        <a class="side-nav-item" href="/docs/feature-test/">Feature Test</a>
        
        <a class="side-nav-item" href="/docs/tooling/">Tooling support</a>
        
        <a class="side-nav-item" href="/docs/gc/">GC / DOM / Web API Integration <img class="emoji" title=":unicorn:" alt=":unicorn:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f984.png" height="20" width="20" align="absmiddle"></a>
        
        <a class="side-nav-item" href="/docs/jit-library/">JIT and Optimization Library</a>
        
        <a class="side-nav-item" href="/docs/dynamic-linking/">Dynamic linking</a>
        
        <a class="side-nav-item" href="/docs/high-level-goals/">WebAssembly 的长久目标</a>
        
        <a class="side-nav-item" href="/docs/mvp/">最小可行性版本</a>
        
        <a class="side-nav-item" href="/docs/non-web/">非网络嵌入</a>
        
        <a class="side-nav-item" href="/docs/portability/">可移植性</a>
        
        <a class="side-nav-item" href="/docs/semantics/">语义</a>
        
        <a class="side-nav-item" href="/docs/use-cases/">使用场景</a>
        
        </nav>
      </div>
    </div>
  </div>
</section>
<div style="display:none">
    <script src="https://s19.cnzz.com/z_stat.php?id=1262073419&amp;web_id=1262073419" language="JavaScript"></script>
</div>
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
</body>
</html>
